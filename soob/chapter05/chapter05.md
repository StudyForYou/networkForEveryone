# 5장 네트워크 계층, 목적지를 찾는 단계

## Lesson18 네트워크 계층의 역할

- 라우터: 데이터가 어떤 경로로 전달되어야 하는지를 알려주는 내비게이션과 같은 역할을 함
- 라우팅: 어떤 길이 가장 빠른 길인지 찾는 과정

## Lesson19 IP 주소란?

- IP 주소: 인터넷상에 있는 컴퓨터의 고유한 주소
- 인터넷 서비스 제공자(ISP,Internet Service Provider) - SKT, KT, LG U+ 등고 같은 회사에 인터넷 설치를 신청
- 인터넷 서비스 제공자와 내 컴퓨터가 연결되며, 공인 IP가 하나 부여됨 -> 인터넷을 할 수 있는 IP 주소
- 공인 IP VS 사설 IP
  - 공인 IP
    - 인터넷 서비스 제공자에 의해 전 세계적으로 고유하게 할당되는 IP 주소
    - 전 세계의 컴퓨터와 통신을 할 수 있음
    - 대부분의 인터넷 서비스 제공자들은 유동적으로 공인 IP 주소를 할당함
    - 영구적으로 사용할 수 있는 것이 아니라 주기적으로 변경됨을 의미
  - 사설 IP
    - 기업 내부에서만 사용되는 IP 주소
    - 기업 밖에 위치한 컴퓨터와는 통신이 되지 않음
- ipconfig를 통해 확인한 IP 주소 형태 - 192.168.2.124 -> 10진수로 표현되어 있음
- IP 주소의 길이는 4바이트, 즉 32비트로 되어 있음
- IP 주소의 마지막 1바이트의 가장 작은 수인 0과 가장 큰 수인 255는 용도가 정해져 있기 때무네 컴퓨터의 IP 주소로 사용하지 않음
  - 마지막 1바이트가 0인 주소는 네트워크 주소라고 함
    - 네트워크 주소: 일반적으로 하나의 네트워크를 통칭하기 위해 사용되는 주소
    - 하나의 라우터에 묶여 있는 컴퓨터들의 IP가 192.168.2.11 ~ 192.168.2.14인 경우 -> 네트워크 주소 192.168.2.0
  - 마지막 1바이트가 255인 경우는 브로드캐스트 주소라고 함
    - 브로드캐스트 주소: 네트워크에 연결된 컴퓨터에 데이터를 한 번에 일괄적으로 전송할 때 사용하는 주소
    - 192.168.2.0 네트워크 주소를 갖는 네트워크가 있을 때
      - 192.168.2.10 IP를 갖는 컴퓨터가 자신이 속해 있는 모든 컴퓨터에 데이터를 보내고자 할 때 사용되는 IP 주소는 192.168.2.255됨

## Lesson20 IP 주소의 구조와 클래스

### 1. IP 주소의 구조

- 네트워크 ID - 컴퓨터가 많을 경우 관리의 어려움이 있기 때문에 네트워크의 범위를 지정해 관리를 쉽게 하기 위해 사용
- 호스트 ID
  - 라우터에 연결된 개별 컴퓨터들을 관리하기 위해 사용됨
  - 개별 컴퓨터들이 사용하는 것

### 2. IP 주소의 클래스

- 공인 IP 주소에는 A부터 E까지 5개 클래스가 있음
- D, E는 일반인을 위한 것이 아니기 때문에 A, B, C 클래스만 유효
- A 클래스
  - 네트워크가 가질 수 있는 호스트 ID가 가장 많은 클래스
  - 첫 8비트는 네트워크 ID를 의미, 나머지 24비트는 호스트 ID를 의미
  - 0.0.0.0 ~ 127.255.255.255
- B 클래스
  - 처음 16비트는 네트워크 ID를 나타내고 나머지 16비트는 호스트 ID를 의미
  - A 클래스와 비교할 때 컴퓨터가 사용할 수 있는 IP 개수가 줄어듦
  - 128.0.0.0 ~ 191.255.255.255
- C 클래스
  - 마지막 8비트만 호스트 ID이고 앞에 위치한 24비트는 네트워크 ID
  - 192.0.0.0 ~ 223.255.255.255
- KISA에서 IANA로부터 IP 대역을 할당받아온 이후 KISA는 IP주소를 인터넷 서비스 제공 업체에게 다시 할당해줌

## Lesson21 OSI 7 계층에서의 IP 주소

- 3계층 / 네트워크 계층 / 추가되는 헤더 정보: IP 주소

## Lesson22 브로드캐스트, 유니캐스트, 멀티캐스트

### 1. 브로드캐스트

- 같은 네트워크에 속한 모든 컴퓨터에게 데이터를 전달함
- 수신자 입장에서는 내가 원하지 않더라도 일방적으로 보내는 정보를 받아야 함
- 데이터를 수신하는 컴퓨터는 그 정보가 필요한지 판단해야 하는 번거로움이 있음

### 2. 유니브캐스트

- 1:1 통신
- 같은 네트워크에 여러 대의 컴퓨터가 존재할 때 특정 1대의 컴퓨터에만 데이터를 보내고자 한다면 상대방의 MAC 주소가 필요함
- 유니브캐스트로 통신을 하기 위해서는 상대방의 MAC 주소를알고 있어야 함

### 3. 멀티캐스트

- 브로드캐스트와 유니캐스트를 섞어 놓은 방식
- 같은 네트워크에서 데이터를 보내고 싶은 컴퓨터가 2대 이상일 때 사용
- 특정 그룹을 지정해서 그 그룹에 해당하는 컴퓨터에게만 데이터를 보내는 방식

## Lesson23 서브넷과 서브넷 마스크

### 1. 서브넷의 개념

- 서브넷: 하나의 네트워크가 분할된 작은 네트워크
- 서브넷팅: 작은 네트워크로 나누는 작업

### 2. 서브넷팅의 원리

- IP 주소의 네트워크 ID는 그대로 두고 호스트 ID를 쪼개는 방식 (호스트 ID를 서브넷 ID와 호스트 ID로 나누는 작업)
- 쪼개는 개수가 적을수록 사용 가능한 호스트 수가 많아짐

### 3. 서브넷 마스크

- IP 주소에서 네트워크 ID와 호스트 ID를 구분하기 위한 구분자
- 192.168.1.1/24 , 255.255.255.0 -> 서브넷 마스크에 대한 표현
- 서브넷 마스크를 구하기 위해서는 네트워크 ID는 모두 1로 채우고 호스트 ID는 0으로 채움
- 예시
  - c 클래스의 경우 24비트가 네트워크 ID임
  - 24비트는 1의 값을, 나머지 8비트에 해당하는 호스트 ID는 0으로 채워주면 255.255.255.0의 값이 나옴
  - /24: 네트워크 ID의 비트 수

### 4. 서브넷팅해보기

## Lesson24 라우터의 동작 방식

- 라우터: 데이터의 전송을 위해 가장 빠른 길을 찾아 네트워크 간의 경로를 설정하느 ㄴ장비
- 스위치의 한계: 같은 네트워크의 컴퓨터끼리만 통신이 가능한 장비
- 서로 다른 네트워크 간에 1개 이상의 라우터가 있는 경우
  - 어떤 경로를 이용해야 빠른 통신이 가능한지 확인해야 함
- 라우팅: 네트워크와 네트워크 간의 경로를 설정
  - 라우팅 테이블 이용
  - 라우팅 테이블: 테이터를 목적지까지 보내기 위한 거리와 방법 등을 명시한 테이블
  - 라우터가 데이터를 목적지로 보내려고 하면 먼저 라우팅 테이블을 찾아봄
  - 라우팅 프로토콜에 따라서도 라우팅 테이블은 달라짐
